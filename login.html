<!DOCTYPE html>
<html lang="en" data-lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">User Login & Registration</title>
    <link rel="stylesheet" href="/login.css" />
</head>
<body>
    
    <script>
alert("INLINE JS WORKS");
</script>

    <div style="font-size:22px;color:red;">DEBUG: THIS IS LOGIN.HTML</div>


<!-- Blur overlay -->
<div id="blurOverlay"></div>

<!-- Top bar: dark mode + language -->
<div class="top-bar">
    <div class="theme-toggle">
        <label class="switch">
            <input type="checkbox" id="darkModeToggle" />
            <span class="slider round"></span>
        </label>
        <span data-i18n="darkMode">Dark Mode</span>
    </div>

    <div class="lang-toggle">
        <button type="button" data-lang-btn="en">EN</button>
        <button type="button" data-lang-btn="he">HE</button>
    </div>
</div>

<div class="container">

    <!-- REGISTRATION -->
    <div class="form-container">
        <h2 data-i18n="regTitle">User Registration</h2>

        <form id="registrationForm">
            <div class="input-wrap">
                <input type="email" id="regEmail" data-i18n-placeholder="email" placeholder="Email" required />
            </div>

            <div class="input-wrap">
                <input type="password" id="regPassword" data-i18n-placeholder="password" placeholder="Password" required />
                <span class="toggle-pass" data-target="regPassword">üëÅ</span>
            </div>

            <div class="hint" data-i18n="passwordHint">
                Password must contain 1 capital, 1 number, 4 letters total and 1 special symbol.
            </div>

            <div class="strength-wrapper">
                <div id="strengthBar"></div>
            </div>
            <p id="strengthText"></p>

            <div class="input-wrap hidden" id="confirmWrap">
                <input type="password" id="confirmPassword" data-i18n-placeholder="confirmPassword" placeholder="Confirm Password" />
                <span class="toggle-pass" data-target="confirmPassword">üëÅ</span>
            </div>

            <button type="submit" id="regBtn">
                <span class="spinner hidden" id="regSpinner"></span>
                <span data-i18n="register">Register</span>
            </button>
        </form>

        <!-- EMAIL VERIFICATION POPUP -->
        <div id="emailVerification" class="popup hidden">
            <h3 data-i18n="verifyTitle">Email Verification</h3>
            <p data-i18n="verifyText">A verification link was sent to your email. Once verified, return and log in.</p>

            <button id="resendEmail">
                <span class="spinner hidden" id="resendSpinner"></span>
                <span data-i18n="resend">Resend verification email</span>
            </button>

            <button id="closeVerify" class="secondary">
                <span data-i18n="close">Close</span>
            </button>
        </div>
    </div>

    <!-- LOGIN -->
    <div class="form-container">
        <h2 data-i18n="loginTitle">User Login</h2>

        <form id="loginForm">
            <div class="input-wrap">
                <input type="email" id="loginEmail" data-i18n-placeholder="email" placeholder="Email" required />
            </div>

            <div class="input-wrap">
                <input type="password" id="loginPassword" data-i18n-placeholder="password" placeholder="Password" required />
                <span class="toggle-pass" data-target="loginPassword">üëÅ</span>
            </div>

            <label class="remember">
                <input type="checkbox" id="rememberMe" />
                <span data-i18n="remember">Remember Me</span>
            </label>

            <button type="submit" id="loginBtn">
                <span class="spinner hidden" id="loginSpinner"></span>
                <span data-i18n="login">Login</span>
            </button>
        </form>

        <!-- RESET PASSWORD LINK -->
        <button type="button" id="openReset" class="link-button" data-i18n="forgot">
            Forgot your password?
        </button>
    </div>

</div>

<!-- RESET PASSWORD POPUP -->
<div id="resetPopup" class="popup hidden">
    <h3 data-i18n="resetTitle">Reset Password</h3>
    <p data-i18n="resetText">
        Enter your email and we will send you a reset link.
    </p>
    <input type="email" id="resetEmail" data-i18n-placeholder="email" placeholder="Email" />
    <button id="sendReset">
        <span class="spinner hidden" id="resetSpinner"></span>
        <span data-i18n="sendReset">Send reset email</span>
    </button>
    <button id="closeReset" class="secondary">
        <span data-i18n="close">Close</span>
    </button>
</div>

<footer>
    <span data-i18n="footerText">Need help?</span>
    <a href="contactus.html" data-i18n="footerLink">Contact us here</a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="/login.js"></script>
</body>
</html>
